<!doctype html>
<html>

<head>
   
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->

    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/home.css">
    <title> My Webpage</title>
  
</head>

<body>
    {% block content %}
    {{ super() }}

    <div class="row ">
        <div class="col-md-3 mt-4"></div>
        <div class="col-md-4 mt-4">
            <div class="card">
                <div class="card-body ">

                    <!-- Form submit to request -->
                    <form method="post">
                        <!-- Blood input -->
                        <div class="form-outline mt-2">
                            
                            <select name="blood" id="blood" name="blood" class="form-control">
                                <option value="A Positive" selected>A Positive</option>
                                <option value="B Positive">B Positive</option>
                                <option value="AB Positive">AB Positive</option>
                                <option value="O Negative">O Negative</option>
                                <option value="A Negative">A Negative</option>
                                <option value="B Negative">B Negative</option>
                                <option value="AB Negative">AB Negative</option>
                                <option value="O Positive">O Positive</option>
                            </select>
                            <label class="form-label" for="blood">Choose your blood group</label>
                        </div>
                        <div class="form-outline mt-2">
                            <textarea class="form-control" id="address" name="addess" rows="3" placeholder="Enter your address" required ></textarea>
                        </div>

                        <!-- Submit button -->
                        <div class="form-outline mt-2">
                            <button id="request" class="btn btn-primary btn-block mb-2">Submit request</button>
                        </div>
                </div>
                </form>
            </div>
        </div>
        <div class="col-md-4 mt-4">
            {% if messages %}
            <div class="alert alert-info alert-dismissible fade show " role="alert">
              <span>{{ messages.message }}</span>
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">Ã—</span>
              </button>
            </div>
            {% endif %}
    </div>
    {% endblock %}
</body>
{% block js%}
{{ super() }}
<script>
    $(document).ready(function () {
      $('#request').on('click', function (event) {
  
        var postData = {
          'blood': $('#blood').val(),
          'address': $('#address').val(),
        };
        alert(JSON.stringify(postData));
        $.ajax({
          type: "POST",
          url: "/requested",
          dataType: "json",
          contentType: "application/json; charset=utf-8",
          data: JSON.stringify(postData),
        })
          .done(function (data) {
          });
        event.preventDefault();
      });
    });
  </script>
<a href="../templates/home.html"></a>
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

</html>